(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(266)},126:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){},264:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(55),o=a.n(c),i=(a(126),a(56)),l=a(46),s=a(120),u=a(18),h=a(19),d=a(21),m=a(20),b=a(22),f=(a(128),function(e){return r.a.createElement("div",{className:"sidebar-outline"},r.a.createElement("h3",null,e.title),r.a.createElement("hr",null),r.a.createElement("div",{className:"btn-group-vertical list"},e.items.map(function(t){return r.a.createElement("button",{className:"btn btn-success",style:(a=e.colors[t],{"background-color":a,"border-color":a,color:"black"}),key:t,onClick:function(){return e.handleClick(t)}},t);var a})))}),p=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"Ticker",value:""},a.handleChange=function(e){a.setState({value:e.target.value}),e.preventDefault()},a.handleSubmit=function(e){a.props.handleSubmit(a.state.value),e.preventDefault()},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(f,{colors:this.props.colors,handleClick:this.props.handleClick,items:this.props.items,title:this.props.title})}}]),t}(n.Component),k=(a(130),function(e){return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"form-inline",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"InputTicker"},e.name,":"),r.a.createElement("input",{onChange:e.handleChange,name:e.name,type:"text",className:"form-control mx-sm-2",id:"InputTicker","aria-describedby":"tickerHelp",placeholder:"Enter Symbol"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),r.a.createElement("div",{className:"error"},e.error||r.a.createElement("span",null,"\xa0\xa0")))}),v=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value}),e.preventDefault()},a.handleSubmit=function(e){a.props.handleSubmit(a.state.value),e.preventDefault()},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(k,{error:this.props.error,handleSubmit:this.handleSubmit,handleChange:this.handleChange,name:this.props.name,value:this.state.value})}}]),t}(n.Component),g=a(271),y=a(262),E=a(263),O=a(268),j=a(270),C=a(267),S=(a(132),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.data,c=e.keys,o=e.colors;return r.a.createElement("div",{className:"chart"},r.a.createElement(g.a,{width:t,height:a,data:n},r.a.createElement(y.a,{dataKey:"date"}),r.a.createElement(E.a,{type:"number",domain:["auto","auto"]}),r.a.createElement(O.a,null),r.a.createElement(j.a,{stroke:"#eee",strokeDasharray:"5 5"}),c&&c.map(function(e){return r.a.createElement(C.a,{type:"monotone",dataKey:e,key:e,stroke:o[e]})})))}}]),t}(n.Component)),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).formatData=function(e,t){var a=Object.keys(e).filter(function(e){return"date"!==e});if(a.length>0){for(var n=e.date.length,r=[],c=0;c<n;c++){var o={date:e.date[c]},i=!0,l=!1,s=void 0;try{for(var u,h=a[Symbol.iterator]();!(i=(u=h.next()).done);i=!0){var d=u.value;o[d]=t?(e[d][c]/e[d][0]).toFixed(4):e[d][c]}}catch(m){l=!0,s=m}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}r.push(o)}return r}},e.width=800,e.height=500,e}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.keys,n=e.normalize,c=e.colors,o=this.formatData(t,n);return r.a.createElement(S,{colors:c,data:o,keys:a,width:this.width,height:this.height})}}]),t}(n.Component),D=(a(264),function(e,t){return"https://api.iextrading.com/1.0/stock/".concat(e,"/chart/").concat(t)}),N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={colors:{},data:{},tickers:[],normalize:!1,selectedDateRange:"1m",searchBarTitle:"Ticker",searchError:null,sidebarTitle:"Tickers Shown"},e.pickColor=function(){return e.baseColors[Math.floor(Math.random()*e.baseColors.length)]},e.mapTickerData=function(e,t){return e.map(function(e){return e[t]})},e.getTickerInfo=function(t,a){var n=t.toUpperCase();fetch(D(n,e.state.selectedDateRange)).then(function(e){return e.json()}).then(function(t){var r=e.mapTickerData(t,"close"),c={};e.state.data.date&&!a||(c.date=e.mapTickerData(t,"date"));var o=Object(s.a)(e.state.tickers),u=Object(l.a)({},e.state.colors);e.state.tickers.includes(n)||(o.push(n),console.log(e.pickColor()),u[n]=e.pickColor(),console.log(u));var h=Object(l.a)({},e.state.data,c,Object(i.a)({},n,r));e.setState({data:h,tickers:o,colors:u})},function(t){console.warn(t),e.setState({searchError:"Could not find ticker: ".concat(n)})})},e.fetchAllData=function(){e.state.tickers.map(function(t){return e.getTickerInfo(t,!0)})},e.handleSearchSubmit=function(t){e.state.tickers.includes(t)?e.setState({searchError:"".concat(t," already displayed.")}):(e.setState({searchError:null}),e.getTickerInfo(t,!1))},e.handleDateClick=function(t){e.setState({selectedDateRange:t})},e.handleTickerClick=function(t){var a=Object(l.a)({},e.state.data);delete a[t];var n=Object(l.a)({},e.state.colors);delete n[t],e.setState({tickers:e.state.tickers.filter(function(e){return e!==t}),colors:n,data:a})},e.handleNormalizeClick=function(){e.setState({normalize:!e.state.normalize})},e.baseColors=["#82ca9d","#8084d8","#8be07f","#d884d4","#83b5ab","#84d0d8","#b284d8","#d88684"],e.dateRanges={"1d":"One Day","1m":"One Month","3m":"Three Months","6m":"Six Months",ytd:"Year to Date"},e.dateRangeKeys=Object.keys(e.dateRanges),e}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.selectedDateRange!==t.selectedDateRange&&this.fetchAllData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"second-row"},r.a.createElement(v,{error:this.state.searchError,handleSubmit:this.handleSearchSubmit,name:this.state.searchBarTitle}),r.a.createElement("button",{className:"normalize btn btn-primary",onClick:this.handleNormalizeClick},this.state.normalize?"Unnormalize?":"Normalize?")),r.a.createElement("div",{className:"second-row"},r.a.createElement(w,{data:this.state.data,keys:this.state.tickers,normalize:this.state.normalize,colors:this.state.colors}),r.a.createElement(p,{handleClick:this.handleTickerClick,items:this.state.tickers,title:this.state.sidebarTitle,colors:this.state.colors})),r.a.createElement("div",{className:"date-range btn-group btn-group-toggle","data-toggle":"buttons"},this.dateRangeKeys.map(function(t){return r.a.createElement("button",{className:"btn btn-outline-secondary ".concat(e.state.selectedDateRange===t?"active":null),key:t,onClick:function(){return e.handleDateClick(t)}},e.dateRanges[t])})))}}]),t}(n.Component);var T=function(){return r.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.30d6489c.chunk.js.map